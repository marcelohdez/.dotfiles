# Key vars
set $mod Mod4
set $specialMod $mod+Shift
set $left h
set $up j
set $down k
set $right l

# Long-running processes
exec swayidle -w
exec gammastep
exec swww init && systemctl restart --user darkman

# Output
output eDP-1 scale 1.75

# Input
input "1452:641:Apple_Internal_Keyboard_/_Trackpad" {
  accel_profile "adaptive"
  pointer_accel 0.6
}

gaps inner 6
gaps outer 3

# Window rules
#                tabbrdr border  text
client.unfocused #ffffff #a5a5a5 #ffffff
client.focused   #ffffff #c5c5c5 #ffffff #a5a5a5
for_window [class=".*"]  border pixel 2
for_window [app_id=".*"] border pixel 2
default_border pixel 2

for_window [app_id="wezterm"] floating enable
for_window [app_id="foot"] floating enable
for_window [app_id="org.gnome.Calculator"] floating enable

# Program vars
set $calculator flatpak run org.gnome.Calculator
set $files nautilus
set $search wofi
set $term foot
set $web firefox

###  Keybinds
# Window management
bindsym $mod+X kill
floating_modifier $mod normal
bindsym $mod+V floating toggle
bindsym $mod+W fullscreen

# Launching
bindsym $mod+B exec $files
bindsym $mod+Space exec $search
bindsym $mod+T exec $term
bindsym $mod+F exec $web
bindsym $mod+E exec $calculator
bindsym $mod+Y exec ~/.local/share/both-modes.d/reload_waybar.sh

# Sway stuffs
bindsym $specialMod+C reload
bindsym $specialMod+Escape exec swaymsg exit

# Utility keybinds
bindsym $mod+R exec hyprpicker
bindsym $specialMod+A exec grim -g "$(slurp)" - | swappy -f -
bindsym $specialMod+S exec grim - | swappy -f -

# Functional keys
bindsym XF86Search exec $search

set $volNotif = ~/.local/share/fn-scripts/vol_notif.sh
bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5% && $volNotif
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5% && $volNotif
bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle

set $barNotif ~/.local/share/fn-scripts/bar_notif.sh
set $brightnessNotif $barNotif 'Display Brightness' $(brightnessctl g) $(brightnessctl m)
bindsym XF86MonBrightnessDown exec brightnessctl set 5%- && $brightnessNotif
bindsym XF86MonBrightnessUp exec brightnessctl set 5%+ && $brightnessNotif
bindsym XF86MonBrightnessDown+Ctrl exec brightnessctl set 1%- && $brightnessNotif
bindsym XF86MonBrightnessUp+Ctrl exec brightnessctl set 1%+ && $brightnessNotif

set $kbdLight -d 'kbd_backlight'
set $kbdBrightnessNotif $barNotif 'Keyboard Brightness' $(brightnessctl $kbdLight g) $(brightnessctl $kbdLight m)
bindsym XF86MonBrightnessDown+Alt exec brightnessctl $kbdLight set 5%- && $kbdBrightnessNotif
bindsym XF86MonBrightnessUp+Alt exec brightnessctl $kbdLight set 5%+ && $kbdBrightnessNotif

bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

# Workspace management
workspace_auto_back_and_forth yes

bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9

bindgesture swipe:3:right workspace prev
bindgesture swipe:3:left workspace next

bindsym $specialMod+1 move container to workspace 1
bindsym $specialMod+2 move container to workspace 2
bindsym $specialMod+3 move container to workspace 3
bindsym $specialMod+4 move container to workspace 4
bindsym $specialMod+5 move container to workspace 5
bindsym $specialMod+6 move container to workspace 6
bindsym $specialMod+7 move container to workspace 7
bindsym $specialMod+8 move container to workspace 8
bindsym $specialMod+9 move container to workspace 9
